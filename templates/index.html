<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Cat√≥lIA - Seu Guia de F√©</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        /* [Previous CSS variables and styles remain the same until .profile-selection-container] */

        /* Updated Profile Selection Styles */
        .profile-selection-container {
            position: fixed;
            bottom: calc(var(--footer-height) + var(--input-area-height));
            left: 0;
            width: 100%;
            z-index: 998;
            background-color: var(--profile-bg);
            border-top: 1px solid var(--border-color);
            padding: 10px 15px;
            box-sizing: border-box;
            overflow-x: auto;
            white-space: nowrap;
            display: flex;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .profile-selection-container p {
            display: none; /* Hide the "Eu sou um(a)" text */
        }

        .prompt-button {
            background-color: var(--profile-btn-bg);
            color: var(--profile-btn-color);
            border: none;
            border-radius: 18px;
            padding: 8px 15px;
            font-size: 0.85em;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .prompt-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .prompt-button.selected {
            background-color: var(--color-primary);
            color: white;
            font-weight: bold;
        }

        .prompt-button i {
            font-size: 0.9em;
        }

        /* Response type buttons */
        .response-type-container {
            position: fixed;
            bottom: calc(var(--footer-height) + var(--input-area-height) + 45px);
            left: 0;
            width: 100%;
            z-index: 997;
            background-color: var(--profile-bg);
            padding: 8px 15px;
            box-sizing: border-box;
            overflow-x: auto;
            white-space: nowrap;
            display: flex;
            gap: 8px;
            border-top: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .response-type-container p {
            margin: 0;
            font-size: 0.8em;
            color: var(--text-color);
            align-self: center;
            margin-right: 8px;
            white-space: nowrap;
        }

        /* Remove old dropdown styles */
        .dropdown-container, .dropdown-button, .dropdown-content {
            display: none !important;
        }

        /* Adjust chat scrollable content padding */
        .chat-scrollable-content {
            padding-bottom: calc(var(--input-area-height) + var(--footer-height) + 90px);
        }

        @media (max-width: 768px) {
            .profile-selection-container, .response-type-container {
                padding: 8px 10px;
            }
            .prompt-button {
                padding: 6px 12px;
                font-size: 0.8em;
            }
            .chat-scrollable-content {
                padding-bottom: calc(var(--input-area-height) + var(--footer-height) + 80px);
            }
        }
    </style>
</head>
<body>
    <!-- Header remains the same -->
    <div class="chat-header">
        <div class="header-left">
            <i class="fas fa-bars menu-icon" id="menuIcon"></i>
            <span>Cat√≥lIA</span>
        </div>
        <div class="header-right">
            <a href="#" id="donateLink">Doe</a>
        </div>
    </div>

    <div class="chat-container">
        <!-- Profile selection buttons -->
        <div class="profile-selection-container" id="profileSelectionContainer">
            <button class="prompt-button selected" data-profile="leigo">
                <i class="fas fa-user"></i> Leigo
            </button>
            <button class="prompt-button" data-profile="catequista">
                <i class="fas fa-book"></i> Catequista
            </button>
            <button class="prompt-button" data-profile="seminarista">
                <i class="fas fa-graduation-cap"></i> Seminarista
            </button>
            <button class="prompt-button" data-profile="crianca">
                <i class="fas fa-child"></i> Crian√ßa
            </button>
            <button class="prompt-button" data-profile="sacerdote">
                <i class="fas fa-cross"></i> Sacerdote
            </button>
        </div>

        <!-- Response type buttons -->
        <div class="response-type-container" id="responseTypeContainer">
            <p>Tipo de resposta:</p>
            <button class="prompt-button selected" data-type="curta">
                Curta
            </button>
            <button class="prompt-button" data-type="media">
                M√©dia
            </button>
            <button class="prompt-button" data-type="longa">
                Longa
            </button>
        </div>

        <!-- Chat content remains the same -->
        <div class="chat-scrollable-content initial-state" id="chatScrollableContent">
            <div class="main-central-message">Primeira IA Cat√≥lica feita por Cat√≥licos!</div>
            <div class="chat-messages" id="chatMessages"></div>
        </div>

        <!-- Input area remains the same -->
        <div class="chat-input-area">
            <div class="textarea-wrapper">
                <textarea id="userMessageInput" placeholder="Digite sua mensagem..." rows="1"></textarea>
            </div>
            <button id="sendMessageButton">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>

        <!-- Footer remains the same -->
        <div class="chat-footer">
            <span class="icon-text">
                Desenvolvido com Google Gemini
            </span>
            <span>|</span>
            <a href="https://www.instagram.com/job.brito" target="_blank">@job.brito</a>
            <div class="theme-toggle-button" id="themeToggleButton">
                <i class="fas fa-moon"></i>
            </div>
        </div>
    </div>

    <!-- Modal and sidebar remain the same -->
    <div class="modal" id="donateModal">
        <div class="modal-content">
            <button class="modal-close-button" id="closeModalBtn">&times;</button>
            <h3>Apoie a Cat√≥lIA!</h3>
            <p>Se voc√™ tem sido aben√ßoado(a) por este projeto, sua doa√ß√£o faz a diferen√ßa para continuarmos evangelizando atrav√©s da tecnologia.</p>
            <p>Fa√ßa seu Pix (e-mail):</p>
            <p style="font-size:1.3em; font-weight:bold; color:var(--color-primary-dark);" id="pixKey">mateus.job@outlook.com</p>
            <button class="copy-pix-button" id="copyPixBtn">Copiar Chave Pix</button>
            <p style="margin-top:20px;">Deus lhe pague! üôè</p>
            <button class="copy-pix-button" id="thanksBtn" style="background-color:var(--color-accent);">Obrigado!</button>
        </div>
    </div>

    <div class="sidebar-menu" id="sidebarMenu">
        <div class="sidebar-menu-header">
            <span>Menu Cat√≥lIA</span>
            <i class="fas fa-times close-btn" id="closeMenuBtn"></i>
        </div>
        <ul>
            <li><a href="https://www.cnbb.org.br/liturgia-diaria/" target="_blank"><i class="fas fa-book-open"></i>Liturgia Di√°ria (CNBB)</a></li>
            <li><a href="https://santo.cancaonova.com/" target="_blank"><i class="fas fa-user-circle"></i>Santo do Dia (Can√ß√£o Nova)</a></li>
            <li><a href="https://www.vatican.va/content/vatican/pt.html" target="_blank"><i class="fas fa-church"></i>Santa S√© (Vaticano)</a></li>
            <li><a href="https://nunciaturaapostolica.org.br/nuncio-2/" target="_blank"><i class="fas fa-cross"></i>N√∫ncio Apost√≥lico</a></li>
            <li><a href="https://arquidiocesedegoiania.org.br/" target="_blank"><i class="fas fa-map-marker-alt"></i>Arquidiocese de Goi√¢nia</a></li>
            <li><a href="https://www.diocesedejatai.org/" target="_blank"><i class="fas fa-compass"></i>Diocese de Jata√≠</a></li>
            <li><a href="https://www.instagram.com/paroquiasaosebastiaojatai/" target="_blank"><i class="fas fa-heart"></i>Par√≥quia S√£o Sebasti√£o</a></li>
        </ul>
    </div>

    <div class="overlay" id="menuOverlay"></div>

    <script>
        // [Previous variable declarations remain the same]

        document.addEventListener('DOMContentLoaded', () => {
            // [Previous DOMContentLoaded code remains the same until profile selection]

            // New profile selection button logic
            const profileButtons = document.querySelectorAll('[data-profile]');
            profileButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove selected class from all buttons
                    profileButtons.forEach(btn => btn.classList.remove('selected'));
                    // Add selected class to clicked button
                    button.classList.add('selected');
                    // Set the selected profile
                    selectProfile(button.dataset.profile);
                });
            });

            // New response type button logic
            const responseTypeButtons = document.querySelectorAll('[data-type]');
            responseTypeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove selected class from all buttons
                    responseTypeButtons.forEach(btn => btn.classList.remove('selected'));
                    // Add selected class to clicked button
                    button.classList.add('selected');
                    // Set the selected response type
                    selectResponseType(button.dataset.type);
                });
            });

            // [Rest of the existing DOMContentLoaded code remains the same]
        });

        // [All other existing functions remain the same]
    </script>
</body>
</html>